{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useReducer, useEffect } from \"react\";\nimport { fetchAPI, submitAPI } from \"./index.js\";\nimport { useFormContext } from \"../store/FormContext\";\nconst initialState = {\n  name: \"\",\n  email: \"\",\n  date: \"\",\n  time: \"\",\n  numberOfGuests: 1,\n  tablePreference: \"\",\n  occasion: \"\",\n  message: \"\"\n};\nconst ACTION_TYPES = {\n  NAME: 0,\n  EMAIL: 1,\n  DATE: 2,\n  TIME: 3,\n  GUESTS: 4,\n  TABLE: 5,\n  OCCASION: 6,\n  MESSAGE: 7\n};\nfunction formReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.NAME:\n      return {\n        ...state,\n        name: action.payload\n      };\n    case ACTION_TYPES.EMAIL:\n      return {\n        ...state,\n        email: action.payload\n      };\n    case ACTION_TYPES.DATE:\n      return {\n        ...state,\n        date: action.payload\n      };\n    case ACTION_TYPES.TIME:\n      return {\n        ...state,\n        time: action.payload\n      };\n    case ACTION_TYPES.GUESTS:\n      return {\n        ...state,\n        numberOfGuests: action.payload\n      };\n    case ACTION_TYPES.TABLE:\n      return {\n        ...state,\n        tablePreference: action.payload\n      };\n    case ACTION_TYPES.OCCASION:\n      return {\n        ...state,\n        occasion: action.payload\n      };\n    case ACTION_TYPES.MESSAGE:\n      return {\n        ...state,\n        message: action.payload\n      };\n    default:\n      return state;\n  }\n}\nconst useForm = () => {\n  _s();\n  const [form, dispatch] = useReducer(formReducer, initialState);\n  const [timeSlots, setTimeslots] = useState([\"Choose date first\"]);\n  const [isFormValid, setFormValid] = useState(false);\n  const formContext = useFormContext();\n  useEffect(() => {\n    if (form.name.trim().length >= 3 && form.date && form.time && form.numberOfGuests && form.occasion) {\n      setFormValid(true);\n    }\n  }, [form]);\n  const changeNameHandler = e => {\n    dispatch({\n      type: ACTION_TYPES.NAME,\n      payload: e.target.value\n    });\n  };\n  const changeDateHandler = e => {\n    dispatch({\n      type: ACTION_TYPES.DATE,\n      payload: e.target.value\n    });\n    setTimeslots(fetchAPI(new Date(e.target.value)));\n  };\n  const changeTimeHandler = e => {\n    dispatch({\n      type: ACTION_TYPES.TIME,\n      payload: e.target.value\n    });\n  };\n  const changeGuestsHandler = e => {\n    dispatch({\n      type: ACTION_TYPES.GUESTS,\n      payload: e.target.value\n    });\n  };\n  const changeOccasionHandler = e => {\n    dispatch({\n      type: ACTION_TYPES.OCCASION,\n      payload: e.target.value\n    });\n  };\n  const submitHandler = e => {\n    e.preventDefault();\n    let response;\n    if (isFormValid) {\n      response = submitAPI(form);\n      formContext.setForm(form);\n    }\n    return response ? true : false;\n  };\n  return {\n    form,\n    timeSlots,\n    isFormValid,\n    changeNameHandler,\n    changeDateHandler,\n    changeTimeHandler,\n    changeGuestsHandler,\n    changeOccasionHandler,\n    submitHandler\n  };\n};\n_s(useForm, \"RizN9hJFSLFfbNsxyPrXhPOHFs4=\", false, function () {\n  return [useFormContext];\n});\nexport default useForm;","map":{"version":3,"names":["useState","useReducer","useEffect","fetchAPI","submitAPI","useFormContext","initialState","name","email","date","time","numberOfGuests","tablePreference","occasion","message","ACTION_TYPES","NAME","EMAIL","DATE","TIME","GUESTS","TABLE","OCCASION","MESSAGE","formReducer","state","action","type","payload","useForm","_s","form","dispatch","timeSlots","setTimeslots","isFormValid","setFormValid","formContext","trim","length","changeNameHandler","e","target","value","changeDateHandler","Date","changeTimeHandler","changeGuestsHandler","changeOccasionHandler","submitHandler","preventDefault","response","setForm"],"sources":["/Users/otmp/Documents/GitHub/Little-lemon/Coursera-Project/src/hooks/useForm.js"],"sourcesContent":["import { useState, useReducer, useEffect } from \"react\";\nimport { fetchAPI, submitAPI } from \"./index.js\";\nimport { useFormContext } from \"../store/FormContext\";\n\nconst initialState = {\n  name: \"\",\n  email: \"\",\n  date: \"\",\n  time: \"\",\n  numberOfGuests: 1,\n  tablePreference: \"\",\n  occasion: \"\",\n  message: \"\",\n};\n\nconst ACTION_TYPES = {\n  NAME: 0,\n  EMAIL: 1,\n  DATE: 2,\n  TIME: 3,\n  GUESTS: 4,\n  TABLE: 5,\n  OCCASION: 6,\n  MESSAGE: 7,\n};\n\nfunction formReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.NAME:\n      return {\n        ...state,\n        name: action.payload,\n      };\n    case ACTION_TYPES.EMAIL:\n      return {\n        ...state,\n        email: action.payload,\n      };\n    case ACTION_TYPES.DATE:\n      return {\n        ...state,\n        date: action.payload,\n      };\n    case ACTION_TYPES.TIME:\n      return {\n        ...state,\n        time: action.payload,\n      };\n    case ACTION_TYPES.GUESTS:\n      return {\n        ...state,\n        numberOfGuests: action.payload,\n      };\n    case ACTION_TYPES.TABLE:\n      return {\n        ...state,\n        tablePreference: action.payload,\n      };\n    case ACTION_TYPES.OCCASION:\n      return {\n        ...state,\n        occasion: action.payload,\n      };\n    case ACTION_TYPES.MESSAGE:\n      return {\n        ...state,\n        message: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nconst useForm = () => {\n  const [form, dispatch] = useReducer(formReducer, initialState);\n  const [timeSlots, setTimeslots] = useState([\"Choose date first\"]);\n  const [isFormValid, setFormValid] = useState(false);\n  const formContext = useFormContext();\n\n  useEffect(() => {\n    if (\n      form.name.trim().length >= 3 &&\n      form.date &&\n      form.time &&\n      form.numberOfGuests &&\n      form.occasion\n    ) {\n      setFormValid(true);\n    }\n  }, [form]);\n\n  const changeNameHandler = (e) => {\n    dispatch({ type: ACTION_TYPES.NAME, payload: e.target.value });\n  };\n\n  const changeDateHandler = (e) => {\n    dispatch({ type: ACTION_TYPES.DATE, payload: e.target.value });\n    setTimeslots(fetchAPI(new Date(e.target.value)));\n  };\n\n  const changeTimeHandler = (e) => {\n    dispatch({ type: ACTION_TYPES.TIME, payload: e.target.value });\n  };\n\n  const changeGuestsHandler = (e) => {\n    dispatch({ type: ACTION_TYPES.GUESTS, payload: e.target.value });\n  };\n\n  const changeOccasionHandler = (e) => {\n    dispatch({ type: ACTION_TYPES.OCCASION, payload: e.target.value });\n  };\n\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    let response;\n\n    if (isFormValid) {\n      response = submitAPI(form);\n      formContext.setForm(form);\n    }\n    return response ? true : false;\n  };\n\n  return {\n    form,\n    timeSlots,\n    isFormValid,\n    changeNameHandler,\n    changeDateHandler,\n    changeTimeHandler,\n    changeGuestsHandler,\n    changeOccasionHandler,\n    submitHandler,\n  };\n};\n\nexport default useForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}